# Mission Control Dashboard - Step-by-Step Implementation Guide

## Dashboard Overview

The Mission Control dashboard is the **core UI** of Project Tuttwiler. It displays one alert at a time with all the information needed to make a safe decision.

**Key Principle:** Single-card focus - show ONE alert at a time to reduce cognitive load.

---

## Dashboard Components Breakdown

Based on the prototype PDFs and design docs, here's what the dashboard needs:

### **1. Header Section**
```
┌─────────────────────────────────────────────────┐
│ Mission Control                    Quiet: OFF  │
│ Critical: [Alert Title]                         │
│ Detected [timestamp]  •  Affects: [function]   │
└─────────────────────────────────────────────────┘
```

**Fields:**
- Page title: "Mission Control"
- Quiet Mode toggle (ON/OFF)
- Alert title (e.g., "Critical: Controller X firmware vuln (no patch)")
- Detection timestamp (e.g., "Detected 14:32")
- Affected function (e.g., "Affects: Lab diagnostics")

---

### **2. Impact Pill (RED/YELLOW/GREEN Badge)**
```
┌─────────────────────────────────────────────────┐
│ Impact: [RED/YELLOW/GREEN] — [Description]      │
│ Example: RED — Direct Care Threat               │
└─────────────────────────────────────────────────┘
```

**Visual Design:**
- **RED:** Red background, white text, bold
- **YELLOW:** Yellow/amber background, dark text
- **GREEN:** Green background, dark text
- Include descriptive text after the color (e.g., "Direct Care Threat", "Service Continuity", "Informational")

---

### **3. "Is This Us?" Relevance Checkbox**
```
┌─────────────────────────────────────────────────┐
│ Does this affect us?                             │
│ ☐ We use Controller X in production              │
│ ☐ Not sure / No                                 │
└─────────────────────────────────────────────────┘
```

**Functionality:**
- Radio buttons or checkboxes
- If "Not sure / No" selected → can suppress/filter alert
- If "We use [system] in production" → mark as relevant

---

### **4. AI Summary Section**
```
┌─────────────────────────────────────────────────┐
│ AI Summary                                       │
│ ─────────────────────────────────────────────── │
│ Vulnerability in Controller X may allow remote  │
│ changes to calibration. No vendor patch yet;    │
│ mitigation required to protect diagnostic       │
│ accuracy.                                       │
└─────────────────────────────────────────────────┘
```

**Content:**
- Plain-English summary (2-3 sentences)
- Generated by AI (or hardcoded for MVP)
- Easy to read, no technical jargon

---

### **5. Source & Confidence Section**
```
┌─────────────────────────────────────────────────┐
│ Source & Confidence                             │
│ • Vendor bulletin (Siemens Medical) — Verified  │
│ • CISA advisory — Verified                      │
│ • Community report — Unverified                │
│                                                 │
│ Confidence: High                                │
└─────────────────────────────────────────────────┘
```

**Display:**
- List of sources with verification status
- Each source shows: Name, Type, Verification status
- Overall confidence level (High/Medium/Low)
- Use icons: ✓ for Verified, ⚠ for Unverified

---

### **6. Safe Action Playbook Section**
```
┌─────────────────────────────────────────────────┐
│ Safe Action Playbook — Do This Today            │
│ ─────────────────────────────────────────────── │
│ 1) Do not power-cycle during active runs.       │
│ 2) Restrict Controller X network access to      │
│    required systems only.                       │
│ 3) Log abnormal temps/restarts; escalate if     │
│    observed.                                     │
│                                                 │
│ Written for regulated environments              │
│ (clinical/GMP/food). No 'take offline'         │
│ one-click actions.                              │
└─────────────────────────────────────────────────┘
```

**Content:**
- Numbered list (3-5 steps)
- Plain language, actionable
- Safety disclaimer at bottom
- Each step should be clear and specific

---

### **7. Decision Buttons (GO / HOLD / ESCALATE)**
```
┌─────────────────────────────────────────────────┐
│                                                 │
│         [  GO  ]  [  HOLD  ]  [ ESCALATE ]     │
│                                                 │
└─────────────────────────────────────────────────┘
```

**Button States:**
- **GO:** Green button - "I'll take this action"
- **HOLD:** Yellow button - "I'll handle this later"
- **ESCALATE:** Red button - "Send to Tier-2 / Bio-ISAC"

**Functionality:**
- Clicking logs decision to database
- After decision, show next alert (or "No more alerts")
- Show confirmation message

---

## Implementation Steps for Dashboard

### **Step 1: Create Basic Layout Structure** ⭐ START HERE

**HTML/JSX Structure:**
```html
<div className="mission-control">
  {/* Header */}
  <header>
    <h1>Mission Control</h1>
    <div>Quiet: OFF</div>
  </header>

  {/* Alert Card */}
  <div className="alert-card">
    {/* Title Section */}
    <div className="alert-header">
      <h2>Critical: Controller X firmware vuln (no patch)</h2>
      <div>Detected 14:32 • Affects: Lab diagnostics</div>
    </div>

    {/* Impact Pill */}
    <div className="impact-pill red">
      RED — Direct Care Threat
    </div>

    {/* Is This Us? */}
    <div className="relevance-check">
      <label>Does this affect us?</label>
      <input type="checkbox" /> We use Controller X in production
      <input type="checkbox" /> Not sure / No
    </div>

    {/* AI Summary */}
    <div className="ai-summary">
      <h3>AI Summary</h3>
      <p>Vulnerability in Controller X may allow remote changes...</p>
    </div>

    {/* Sources */}
    <div className="sources">
      <h3>Source & Confidence</h3>
      <ul>
        <li>Vendor bulletin (Siemens Medical) — Verified</li>
        <li>CISA advisory — Verified</li>
      </ul>
      <div>Confidence: High</div>
    </div>

    {/* Safe Actions */}
    <div className="safe-actions">
      <h3>Safe Action Playbook — Do This Today</h3>
      <ol>
        <li>Do not power-cycle during active runs.</li>
        <li>Restrict Controller X network access...</li>
        <li>Log abnormal temps/restarts...</li>
      </ol>
    </div>

    {/* Decision Buttons */}
    <div className="decision-buttons">
      <button className="go">GO</button>
      <button className="hold">HOLD</button>
      <button className="escalate">ESCALATE</button>
    </div>
  </div>
</div>
```

**Time:** 1-2 hours

---

### **Step 2: Style the Components (CSS)**

**Key Styling Requirements:**

```css
/* Impact Pills */
.impact-pill {
  padding: 8px 16px;
  border-radius: 4px;
  font-weight: bold;
  display: inline-block;
}

.impact-pill.red {
  background-color: #dc3545;
  color: white;
}

.impact-pill.yellow {
  background-color: #ffc107;
  color: #000;
}

.impact-pill.green {
  background-color: #28a745;
  color: #000;
}

/* Alert Card */
.alert-card {
  max-width: 800px;
  margin: 0 auto;
  padding: 24px;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Decision Buttons */
.decision-buttons {
  display: flex;
  gap: 16px;
  justify-content: center;
  margin-top: 32px;
}

.decision-buttons button {
  padding: 12px 32px;
  font-size: 16px;
  font-weight: bold;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.decision-buttons .go {
  background-color: #28a745;
  color: white;
}

.decision-buttons .hold {
  background-color: #ffc107;
  color: #000;
}

.decision-buttons .escalate {
  background-color: #dc3545;
  color: white;
}
```

**Time:** 2-3 hours

---

### **Step 3: Make It Dynamic (Connect to Data)**

**Replace Hardcoded Data with Props/State:**

```javascript
// React Example
function MissionControl({ alert }) {
  if (!alert) {
    return <div>No alerts</div>;
  }

  return (
    <div className="mission-control">
      <header>
        <h1>Mission Control</h1>
        <div>Quiet: {alert.quietMode ? 'ON' : 'OFF'}</div>
      </header>

      <div className="alert-card">
        <div className="alert-header">
          <h2>{alert.title}</h2>
          <div>Detected {alert.timestamp} • Affects: {alert.affectedFunction}</div>
        </div>

        <div className={`impact-pill ${alert.impactLevel.toLowerCase()}`}>
          {alert.impactLevel} — {alert.impactDescription}
        </div>

        {/* ... rest of components using alert data ... */}
      </div>
    </div>
  );
}
```

**Data Structure Needed:**
```javascript
{
  id: 1,
  title: "Critical: Controller X firmware vuln (no patch)",
  timestamp: "14:32",
  affectedFunction: "Lab diagnostics",
  impactLevel: "RED",
  impactDescription: "Direct Care Threat",
  aiSummary: "Vulnerability in Controller X may allow...",
  sources: [
    { name: "Vendor bulletin (Siemens Medical)", verified: true },
    { name: "CISA advisory", verified: true }
  ],
  confidence: "High",
  safeActions: [
    "Do not power-cycle during active runs.",
    "Restrict Controller X network access...",
    "Log abnormal temps/restarts..."
  ]
}
```

**Time:** 2-3 hours

---

### **Step 4: Add Interactivity (Decision Buttons)**

**Make Buttons Functional:**

```javascript
function DecisionButtons({ alertId, onDecision }) {
  const handleDecision = (decisionType) => {
    // Call API to save decision
    fetch('/api/decisions', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        alertId: alertId,
        decision: decisionType,
        timestamp: new Date().toISOString()
      })
    })
    .then(() => {
      // Show success message
      alert(`Decision recorded: ${decisionType}`);
      // Load next alert
      onDecision(decisionType);
    });
  };

  return (
    <div className="decision-buttons">
      <button className="go" onClick={() => handleDecision('GO')}>
        GO
      </button>
      <button className="hold" onClick={() => handleDecision('HOLD')}>
        HOLD
      </button>
      <button className="escalate" onClick={() => handleDecision('ESCALATE')}>
        ESCALATE
      </button>
    </div>
  );
}
```

**Time:** 2-3 hours

---

### **Step 5: Add "Is This Us?" Functionality**

**Relevance Filter:**

```javascript
function RelevanceCheck({ alertId, onRelevanceChange }) {
  const [relevance, setRelevance] = useState(null);

  const handleChange = (value) => {
    setRelevance(value);
    // Save to database or filter alert
    onRelevanceChange(alertId, value);
  };

  return (
    <div className="relevance-check">
      <label>Does this affect us?</label>
      <div>
        <input
          type="radio"
          name="relevance"
          value="yes"
          onChange={() => handleChange('yes')}
        />
        <label>We use this system in production</label>
      </div>
      <div>
        <input
          type="radio"
          name="relevance"
          value="no"
          onChange={() => handleChange('no')}
        />
        <label>Not sure / No</label>
      </div>
    </div>
  );
}
```

**Time:** 1-2 hours

---

### **Step 6: Add Alert Navigation (Next Alert)**

**Show Next Alert After Decision:**

```javascript
function MissionControl() {
  const [currentAlert, setCurrentAlert] = useState(null);
  const [alertIndex, setAlertIndex] = useState(0);

  useEffect(() => {
    // Fetch alerts from API
    fetch('/api/alerts?status=active&limit=1')
      .then(res => res.json())
      .then(data => {
        if (data.alerts && data.alerts.length > 0) {
          setCurrentAlert(data.alerts[0]);
        }
      });
  }, [alertIndex]);

  const handleDecision = (decision) => {
    // After decision, load next alert
    setAlertIndex(prev => prev + 1);
  };

  if (!currentAlert) {
    return <div>No more alerts</div>;
  }

  return (
    <div>
      {/* Alert display */}
      <AlertCard alert={currentAlert} onDecision={handleDecision} />
    </div>
  );
}
```

**Time:** 2-3 hours

---

### **Step 7: Add Quiet Mode Toggle**

**Quiet Mode Functionality:**

```javascript
function QuietModeToggle({ isQuiet, onToggle }) {
  return (
    <div className="quiet-mode">
      <label>
        <input
          type="checkbox"
          checked={isQuiet}
          onChange={onToggle}
        />
        Quiet Mode
      </label>
      <span>{isQuiet ? 'ON' : 'OFF'}</span>
    </div>
  );
}

// In main component
const [quietMode, setQuietMode] = useState(false);

// Filter alerts based on quiet mode
const filteredAlerts = quietMode
  ? alerts.filter(alert => alert.impactLevel === 'RED')
  : alerts;
```

**Time:** 1-2 hours

---

## Complete Dashboard Checklist

### **Must-Have (MVP):**
- [ ] Header with title and Quiet Mode toggle
- [ ] Alert title, timestamp, affected function
- [ ] Impact pill (RED/YELLOW/GREEN) with description
- [ ] AI Summary section
- [ ] Source & Confidence section
- [ ] Safe Action Playbook (numbered list)
- [ ] Decision buttons (GO/HOLD/ESCALATE)
- [ ] Connect to API to fetch alerts
- [ ] Save decisions to database
- [ ] Show next alert after decision

### **Nice-to-Have:**
- [ ] "Is This Us?" relevance checkbox
- [ ] Loading states (spinner while fetching)
- [ ] Error handling (if API fails)
- [ ] Success confirmation after decision
- [ ] Alert count indicator ("3 alerts remaining")
- [ ] Empty state ("No alerts at this time")

---

## Visual Reference

**Match These Prototype PDFs:**
- `03_Prototype/mission_control_full_big.pdf` - Full screen design
- `03_Prototype/mission_control_card_simple.pdf` - Simple card design

**Key Design Elements:**
- Clean, minimal layout
- Single alert focus (no list view)
- Color-coded impact pills
- Clear hierarchy (title → impact → summary → actions → decision)
- Large, accessible buttons

---

## Tech Stack Recommendations

**Front-End Framework Options:**
- **React** (recommended) - Component-based, easy to build reusable pieces
- **Vue.js** - Similar to React, good for rapid development
- **Vanilla JS** - If you want to keep it simple

**Styling Options:**
- **Tailwind CSS** - Utility-first, fast styling
- **Material-UI** - Pre-built components, professional look
- **Bootstrap** - Quick setup, familiar
- **Custom CSS** - Full control, matches prototype exactly

**State Management:**
- **React Context** - Simple, built-in
- **Redux** - If you need complex state
- **Zustand** - Lightweight alternative

---

## Quick Start Template

**Minimal Working Example:**

```javascript
// App.js
import React, { useState, useEffect } from 'react';
import './App.css';

function App() {
  const [alert, setAlert] = useState(null);

  useEffect(() => {
    // Fetch first alert
    fetch('/api/alerts?limit=1&status=active')
      .then(res => res.json())
      .then(data => setAlert(data.alerts[0]));
  }, []);

  if (!alert) return <div>Loading...</div>;

  return (
    <div className="mission-control">
      <header>
        <h1>Mission Control</h1>
      </header>
      
      <div className="alert-card">
        <h2>{alert.title}</h2>
        <div className={`impact-pill ${alert.impactLevel.toLowerCase()}`}>
          {alert.impactLevel}
        </div>
        <p>{alert.aiSummary}</p>
        <ol>
          {alert.safeActions.map((action, i) => (
            <li key={i}>{action}</li>
          ))}
        </ol>
        <div className="decision-buttons">
          <button>GO</button>
          <button>HOLD</button>
          <button>ESCALATE</button>
        </div>
      </div>
    </div>
  );
}

export default App;
```

---

## Timeline Estimate

**Total Time for Complete Dashboard:**
- Step 1 (Layout): 1-2 hours
- Step 2 (Styling): 2-3 hours
- Step 3 (Dynamic Data): 2-3 hours
- Step 4 (Interactivity): 2-3 hours
- Step 5 (Relevance Filter): 1-2 hours
- Step 6 (Navigation): 2-3 hours
- Step 7 (Quiet Mode): 1-2 hours

**Total: 13-20 hours** (can be done in 2-3 days with focused work)

**MVP (Steps 1-4, 6): 10-15 hours** (can be done in 1-2 days)

---

*Start with Step 1 (Layout Structure) and build incrementally. Get it working with hardcoded data first, then connect to API.*

